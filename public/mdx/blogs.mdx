## Bagaimana Menulis

Untuk saat ini sebaiknya semua _artikel_ kita tulis dari dalam [GitHub](https://github.com/fxadilima/web-novel/),
supaya situs ini secara otomatis akan terupdate dari Netlify. Semua _component_ JSX yang berisi ulasan panjang
seharusnya kita pindahkan ke dalam sebuah file **MDX**, yang bisa kita _update_ kapan saja tanpa harus mengganggu
aplikasi ini sendiri. Meskipun saat ini aplikasi harus tetap melakukan _recompile_ untuk mendapatkan artikel terbaru,
tetapi sebenarnya cara yang kita terapkan di sini hanya menyalin seluruh isi direktori yang berisi semua file MDX 
ke dalam direktori `build`, itu sama saja dengan kita edit isi direktori tersebut secara langsung.

### Dari Sisi JavaScript

Cara yang kita terapkan ini minimal membutuhkan beberapa `import` berikut di setiap skrip yang memakainya.

```javascript

import React, {useState, useEffect} from 'react';
import * as runtime from 'react/jsx-runtime';
import {compile, run} from '@mdx-js/mdx';

```

Lalu tulis sebuah _component_, misalnya dalam contoh ini, `Contekan`.

```javascript 

const Contekan = (props) => {
    let [contekan, setContekan] = useState(null);
    let filename = "/mdx/blogs.mdx";
    if (props.filename !== undefined) {
        filename = props.filename;
    }

    const getData = async () => {
        let str1 = await fetch(filename).then(x => x.text()).then(async (y) => {
            let code = await compile(y, {
                outputFormat: 'function-body'
            });
            const {default: Content} = await run(code, runtime);
            setContekan(Content());
            return Content();
        });
        return str1;
    };

    useEffect(() => {
        getData();
    }, []);

    if (!contekan) {
        return null;
    }

    return (
        <div className="w3-panel w3-card">
            {contekan}
        </div>
    );
}

```

Kalau tulisan kita mengandung kode program, kemungkinan besar kita akan membutuhkan _syntax highlighting_,
jadi dari `index.html` harus ditambahkan baris berikut.

```html 

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark.min.css">

<!-- Atau gunakan link internal semacam ini -->
<link rel="stylesheet" href="/styles/github-dark.min.css">

```

Lalu ubah sedikit `JSX` yang kita tulis di atas untuk memasukkan sebuah `option` berikut.

```javascript

let code = await compile(y, {
    outputFormat: 'function-body',
    rehypePlugins: [rehypeHighlight]
});

```

Tentu saja, package `rehype-highlight` harus ada di dalam daftar module kita.

```console

npm install --save-dev rehype-highlight

```

